# Argus Integration for CLAUDE.md

Add this section to your project's CLAUDE.md to help Claude Code maintain understanding across context compactions.

---

## Codebase Intelligence (Argus)

This project uses **Argus** for persistent codebase understanding that survives context compaction.

### Why This Matters

When Claude Code runs out of context or you restart a session, it loses all understanding of your codebase. Instead of re-scanning hundreds of files (which wastes tokens and time), use Argus to query what you need.

### Setup (One Time)

```bash
# Install Argus globally
npm install -g @hive-dev/argus

# Or from source
git clone git@github.com:sashabogi/argus.git
cd argus && npm install && npm run build && npm link

# Configure with your LLM provider
argus init

# Create initial snapshot
argus snapshot . -o .argus/snapshot.txt

# Generate architecture doc
argus analyze .argus/snapshot.txt "Generate an architecture overview including all modules, their purposes, key patterns, and important files" > ARCHITECTURE.md
```

### Quick Reference

| Need | Command |
|------|---------|
| Understand architecture | `argus analyze .argus/snapshot.txt "What are the main modules?"` |
| Find implementation | `argus analyze .argus/snapshot.txt "How does authentication work?"` |
| Locate files | `argus search .argus/snapshot.txt "FILE:.*auth"` |
| Count items | `argus analyze .argus/snapshot.txt "How many React components?"` |
| Refresh snapshot | `argus snapshot . -o .argus/snapshot.txt` |

### When to Use Argus

**USE ARGUS when you:**
- Just started a new session or had context compacted
- Are unsure where something is implemented
- Need to understand how modules connect
- Want to find patterns across the codebase
- Need to verify architectural decisions

**DON'T RE-SCAN the entire codebase.** Query Argus instead.

### Example Queries

```bash
# Architecture understanding
argus analyze .argus/snapshot.txt "What are the main modules and their responsibilities?"

# Find implementations
argus analyze .argus/snapshot.txt "Where is error handling implemented?"

# Understand patterns  
argus analyze .argus/snapshot.txt "What design patterns are used in this codebase?"

# Data flow
argus analyze .argus/snapshot.txt "How does data flow from API to UI?"

# Fast file search (no AI, instant)
argus search .argus/snapshot.txt "FILE:.*controller"
argus search .argus/snapshot.txt "async fn.*error"
```

### After Major Changes

When you make significant structural changes, refresh the snapshot:

```bash
argus snapshot . -o .argus/snapshot.txt
```

### Files

- `.argus/snapshot.txt` - Current codebase snapshot (auto-generated)
- `ARCHITECTURE.md` - Architecture overview (generated by Argus)

---

## MCP Integration (Claude Desktop / Claude Code)

For seamless integration with Claude:

```bash
# Install as MCP server
argus mcp install

# Uninstall
argus mcp uninstall
```

Then in conversations, Claude has access to these tools:
- `analyze_codebase` - AI-powered analysis
- `search_codebase` - Fast regex search
- `create_snapshot` - Generate snapshots
